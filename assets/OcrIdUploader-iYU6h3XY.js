import{d as Je,r as ye,o as et,l as Ft,c as pe,f as se,i as Be,h as Xe,e as be,t as Te,m as $e,F as tt,n as ct,k as ue,p as ut,q as dt,s as ht,_ as kt,b as Ye,v as He,a as St,x as it,y as st,w as lt,g as _e,j as xt,u as Tt}from"./index-BXZVqfau.js";import{H as Mt,B as Ot,b as Rt}from"./Button-BIYg7vdb.js";import{u as Dt,_ as Pt,E as Lt,a as Ke}from"./useErrorHandling-DQePK6qf.js";const Ht={class:"selected-option"},Nt={key:0,class:"options-list"},Bt=["onClick"],$t=Je({__name:"Select",props:{selectedOption:{},options:{}},emits:["update:selectedOption"],setup(M,{emit:x}){const L=x,d=ye(!1),e=ye(null),t=()=>{d.value=!d.value},c=g=>{L("update:selectedOption",g),d.value=!1},a=g=>{e.value&&!e.value.contains(g.target)&&(d.value=!1)};return et(()=>{document.addEventListener("click",a)}),Ft(()=>{document.removeEventListener("click",a)}),(g,A)=>{const r=$e("SvgIcon");return ue(),pe("div",{class:"form-dropdown",ref_key:"dropdown",ref:e,onClick:t},[se("div",Ht,[Xe(Te(g.selectedOption.label)+" ",1),be(r,{name:d.value?"up":"down",class:"drop-icon"},null,8,["name"])]),d.value?(ue(),pe("ul",Nt,[(ue(!0),pe(tt,null,ct(g.options,(o,n)=>(ue(),pe("li",{key:n,onClick:dt(s=>c(o),["stop"]),class:ut(["option-item",{checked:o.name===g.selectedOption.name}])},[Xe(Te(o.label)+" ",1),o.name===g.selectedOption.name?(ue(),ht(r,{key:0,name:"check",class:"icon"})):Be("",!0)],10,Bt))),128))])):Be("",!0)],512)}}}),zt=kt($t,[["__scopeId","data-v-10c33d94"]]);function Qt(M,x){return x.forEach(function(L){L&&typeof L!="string"&&!Array.isArray(L)&&Object.keys(L).forEach(function(d){if(d!=="default"&&!(d in M)){var e=Object.getOwnPropertyDescriptor(L,d);Object.defineProperty(M,d,e.get?e:{enumerable:!0,get:function(){return L[d]}})}})}),Object.freeze(M)}function gt(M,x){return new Promise(function(L,d){let e;return Wt(M).then(function(t){try{return e=t,L(new Blob([x.slice(0,2),e,x.slice(2)],{type:"image/jpeg"}))}catch(c){return d(c)}},d)})}const Wt=M=>new Promise((x,L)=>{const d=new FileReader;d.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let c=0;if(t.getUint16(c)!==65496)return L("not a valid JPEG");for(c+=2;;){const a=t.getUint16(c);if(a===65498)break;const g=t.getUint16(c+2);if(a===65505&&t.getUint32(c+4)===1165519206){const A=c+10;let r;switch(t.getUint16(A)){case 18761:r=!0;break;case 19789:r=!1;break;default:return L("TIFF header contains invalid endian")}if(t.getUint16(A+2,r)!==42)return L("TIFF header contains invalid version");const o=t.getUint32(A+4,r),n=A+o+2+12*t.getUint16(A+o,r);for(let s=A+o+2;s<n;s+=12)if(t.getUint16(s,r)==274){if(t.getUint16(s+2,r)!==3)return L("Orientation data type is invalid");if(t.getUint32(s+4,r)!==1)return L("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return x(e.slice(c,c+2+g))}c+=2+g}return x(new Blob)}),d.readAsArrayBuffer(M)});var ze={},jt={get exports(){return ze},set exports(M){ze=M}};(function(M){var x,L,d={};jt.exports=d,d.parse=function(e,t){for(var c=d.bin.readUshort,a=d.bin.readUint,g=0,A={},r=new Uint8Array(e),o=r.length-4;a(r,o)!=101010256;)o--;g=o,g+=4;var n=c(r,g+=4);c(r,g+=2);var s=a(r,g+=2),h=a(r,g+=4);g+=4,g=h;for(var U=0;U<n;U++){a(r,g),g+=4,g+=4,g+=4,a(r,g+=4),s=a(r,g+=4);var E=a(r,g+=4),m=c(r,g+=4),R=c(r,g+2),S=c(r,g+4);g+=6;var F=a(r,g+=8);g+=4,g+=m+R+S,d._readLocal(r,F,A,s,E,t)}return A},d._readLocal=function(e,t,c,a,g,A){var r=d.bin.readUshort,o=d.bin.readUint;o(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var s=r(e,t+=8),h=r(e,t+=2);t+=2;var U=d.bin.readUTF8(e,t,s);if(t+=s,t+=h,A)c[U]={size:g,csize:a};else{var E=new Uint8Array(e.buffer,t);if(n==0)c[U]=new Uint8Array(E.buffer.slice(t,t+a));else{if(n!=8)throw"unknown compression method: "+n;var m=new Uint8Array(g);d.inflateRaw(E,m),c[U]=m}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var c=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[c]=120,a[c+1]=156,c+=2,c=d.F.deflateRaw(e,a,c,t.level);var g=d.adler(e,0,e.length);return a[c+0]=g>>>24&255,a[c+1]=g>>>16&255,a[c+2]=g>>>8&255,a[c+3]=g>>>0&255,new Uint8Array(a.buffer,0,c+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var c=new Uint8Array(50+Math.floor(1.1*e.length)),a=d.F.deflateRaw(e,c,a,t.level);return new Uint8Array(c.buffer,0,a)},d.encode=function(e,t){t==null&&(t=!1);var c=0,a=d.bin.writeUint,g=d.bin.writeUshort,A={};for(var r in e){var o=!d._noNeed(r)&&!t,n=e[r],s=d.crc.crc(n,0,n.length);A[r]={cpr:o,usize:n.length,crc:s,file:o?d.deflateRaw(n):n}}for(var r in A)c+=A[r].file.length+30+46+2*d.bin.sizeUTF8(r);c+=22;var h=new Uint8Array(c),U=0,E=[];for(var r in A){var m=A[r];E.push(U),U=d._writeHeader(h,U,r,m,0)}var R=0,S=U;for(var r in A)m=A[r],E.push(U),U=d._writeHeader(h,U,r,m,1,E[R++]);var F=U-S;return a(h,U,101010256),U+=4,g(h,U+=4,R),g(h,U+=2,R),a(h,U+=2,F),a(h,U+=4,S),U+=4,U+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,c,a,g,A){var r=d.bin.writeUint,o=d.bin.writeUshort,n=a.file;return r(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,a.cpr?8:0),r(e,t+=2,0),r(e,t+=4,a.crc),r(e,t+=4,n.length),r(e,t+=4,a.usize),o(e,t+=4,d.bin.sizeUTF8(c)),o(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,r(e,t+=6,A),t+=4),t+=d.bin.writeUTF8(e,t,c),g==0&&(e.set(n,t),t+=n.length),t},d.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var c=t,a=0;a<8;a++)1&c?c=3988292384^c>>>1:c>>>=1;e[t]=c}return e}(),update:function(e,t,c,a){for(var g=0;g<a;g++)e=d.crc.table[255&(e^t[c+g])]^e>>>8;return e},crc:function(e,t,c){return 4294967295^d.crc.update(4294967295,e,t,c)}},d.adler=function(e,t,c){for(var a=1,g=0,A=t,r=t+c;A<r;){for(var o=Math.min(A+5552,r);A<o;)g+=a+=e[A++];a%=65521,g%=65521}return g<<16|a},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255,e[t+2]=c>>16&255,e[t+3]=c>>24&255},readASCII:function(e,t,c){for(var a="",g=0;g<c;g++)a+=String.fromCharCode(e[t+g]);return a},writeASCII:function(e,t,c){for(var a=0;a<c.length;a++)e[t+a]=c.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,c){for(var a,g="",A=0;A<c;A++)g+="%"+d.bin.pad(e[t+A].toString(16));try{a=decodeURIComponent(g)}catch{return d.bin.readASCII(e,t,c)}return a},writeUTF8:function(e,t,c){for(var a=c.length,g=0,A=0;A<a;A++){var r=c.charCodeAt(A);if((4294967168&r)==0)e[t+g]=r,g++;else if((4294965248&r)==0)e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else if((4294901760&r)==0)e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else{if((4292870144&r)!=0)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,c=0,a=0;a<t;a++){var g=e.charCodeAt(a);if((4294967168&g)==0)c++;else if((4294965248&g)==0)c+=2;else if((4294901760&g)==0)c+=3;else{if((4292870144&g)!=0)throw"e";c+=4}}return c}},d.F={},d.F.deflateRaw=function(e,t,c,a){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],A=d.F.U,r=d.F._goodIndex;d.F._hash;var o=d.F._putsE,n=0,s=c<<3,h=0,U=e.length;if(a==0){for(;n<U;)o(t,s,n+(_=Math.min(65535,U-n))==U?1:0),s=d.F._copyExact(e,n,_,t,s+8),n+=_;return s>>>3}var E=A.lits,m=A.strt,R=A.prev,S=0,F=0,D=0,p=0,T=0,u=0;for(U>2&&(m[u=d.F._hash(e,0)]=0),n=0;n<U;n++){if(T=u,n+1<U-2){u=d.F._hash(e,n+1);var l=n+1&32767;R[l]=m[u],m[u]=l}if(h<=n){(S>14e3||F>26697)&&U-n>100&&(h<n&&(E[S]=n-h,S+=2,h=n),s=d.F._writeBlock(n==U-1||h==U?1:0,E,S,p,e,D,n-D,t,s),S=F=p=0,D=n);var y=0;n<U-2&&(y=d.F._bestMatch(e,n,R,T,Math.min(g[2],U-n),g[3]));var _=y>>>16,w=65535&y;if(y!=0){w=65535&y;var b=r(_=y>>>16,A.of0);A.lhst[257+b]++;var v=r(w,A.df0);A.dhst[v]++,p+=A.exb[b]+A.dxb[v],E[S]=_<<23|n-h,E[S+1]=w<<16|b<<8|v,S+=2,h=n+_}else A.lhst[e[n]]++;F++}}for(D==n&&e.length!=0||(h<n&&(E[S]=n-h,S+=2,h=n),s=d.F._writeBlock(1,E,S,p,e,D,n-D,t,s),S=0,F=0,S=F=p=0,D=n);(7&s)!=0;)s++;return s>>>3},d.F._bestMatch=function(e,t,c,a,g,A){var r=32767&t,o=c[r],n=r-o+32768&32767;if(o==r||a!=d.F._hash(e,t-n))return 0;for(var s=0,h=0,U=Math.min(32767,t);n<=U&&--A!=0&&o!=r;){if(s==0||e[t+s]==e[t+s-n]){var E=d.F._howLong(e,t,n);if(E>s){if(h=n,(s=E)>=g)break;n+2<E&&(E=n+2);for(var m=0,R=0;R<E-2;R++){var S=t-n+R+32768&32767,F=S-c[S]+32768&32767;F>m&&(m=F,o=S)}}}n+=(r=o)-(o=c[r])+32768&32767}return s<<16|h},d.F._howLong=function(e,t,c){if(e[t]!=e[t-c]||e[t+1]!=e[t+1-c]||e[t+2]!=e[t+2-c])return 0;var a=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-c];)t++;return t-a},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,c,a,g,A,r,o,n){var s,h,U,E,m,R,S,F,D,p=d.F.U,T=d.F._putsF,u=d.F._putsE;p.lhst[256]++,h=(s=d.F.getTrees())[0],U=s[1],E=s[2],m=s[3],R=s[4],S=s[5],F=s[6],D=s[7];var l=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),y=a+d.F.contSize(p.fltree,p.lhst)+d.F.contSize(p.fdtree,p.dhst),_=a+d.F.contSize(p.ltree,p.lhst)+d.F.contSize(p.dtree,p.dhst);_+=14+3*S+d.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var w=0;w<286;w++)p.lhst[w]=0;for(w=0;w<30;w++)p.dhst[w]=0;for(w=0;w<19;w++)p.ihst[w]=0;var b=l<y&&l<_?0:y<_?1:2;if(T(o,n,e),T(o,n+1,b),n+=3,b==0){for(;(7&n)!=0;)n++;n=d.F._copyExact(g,A,r,o,n)}else{var v,I;if(b==1&&(v=p.fltree,I=p.fdtree),b==2){d.F.makeCodes(p.ltree,h),d.F.revCodes(p.ltree,h),d.F.makeCodes(p.dtree,U),d.F.revCodes(p.dtree,U),d.F.makeCodes(p.itree,E),d.F.revCodes(p.itree,E),v=p.ltree,I=p.dtree,u(o,n,m-257),u(o,n+=5,R-1),u(o,n+=5,S-4),n+=4;for(var f=0;f<S;f++)u(o,n+3*f,p.itree[1+(p.ordr[f]<<1)]);n+=3*S,n=d.F._codeTiny(F,p.itree,o,n),n=d.F._codeTiny(D,p.itree,o,n)}for(var i=A,O=0;O<c;O+=2){for(var C=t[O],P=C>>>23,$=i+(8388607&C);i<$;)n=d.F._writeLit(g[i++],v,o,n);if(P!=0){var N=t[O+1],B=N>>16,H=N>>8&255,k=255&N;u(o,n=d.F._writeLit(257+H,v,o,n),P-p.of0[H]),n+=p.exb[H],T(o,n=d.F._writeLit(k,I,o,n),B-p.df0[k]),n+=p.dxb[k],i+=P}}n=d.F._writeLit(256,v,o,n)}return n},d.F._copyExact=function(e,t,c,a,g){var A=g>>>3;return a[A]=c,a[A+1]=c>>>8,a[A+2]=255-a[A],a[A+3]=255-a[A+1],A+=4,a.set(new Uint8Array(e.buffer,t,c),A),g+(c+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),c=d.F._hufTree(e.dhst,e.dtree,15),a=[],g=d.F._lenCodes(e.ltree,a),A=[],r=d.F._lenCodes(e.dtree,A),o=0;o<a.length;o+=2)e.ihst[a[o]]++;for(o=0;o<A.length;o+=2)e.ihst[A[o]]++;for(var n=d.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,c,n,g,r,s,a,A]},d.F.getSecond=function(e){for(var t=[],c=0;c<e.length;c+=2)t.push(e[c+1]);return t},d.F.nonZero=function(e){for(var t="",c=0;c<e.length;c+=2)e[c+1]!=0&&(t+=(c>>1)+",");return t},d.F.contSize=function(e,t){for(var c=0,a=0;a<t.length;a++)c+=t[a]*e[1+(a<<1)];return c},d.F._codeTiny=function(e,t,c,a){for(var g=0;g<e.length;g+=2){var A=e[g],r=e[g+1];a=d.F._writeLit(A,t,c,a);var o=A==16?2:A==17?3:7;A>15&&(d.F._putsE(c,a,r,o),a+=o)}return a},d.F._lenCodes=function(e,t){for(var c=e.length;c!=2&&e[c-1]==0;)c-=2;for(var a=0;a<c;a+=2){var g=e[a+1],A=a+3<c?e[a+3]:-1,r=a+5<c?e[a+5]:-1,o=a==0?-1:e[a-1];if(g==0&&A==g&&r==g){for(var n=a+5;n+2<c&&e[n+2]==g;)n+=2;(s=Math.min(n+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(g==o&&A==g&&r==g){for(n=a+5;n+2<c&&e[n+2]==g;)n+=2;var s=Math.min(n+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(g,0)}return c>>>1},d.F._hufTree=function(e,t,c){var a=[],g=e.length,A=t.length,r=0;for(r=0;r<A;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)e[r]!=0&&a.push({lit:r,f:e[r]});var o=a.length,n=a.slice(0);if(o==0)return 0;if(o==1){var s=a[0].lit;return n=s==0?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}a.sort(function(F,D){return F.f-D.f});var h=a[0],U=a[1],E=0,m=1,R=2;for(a[0]={lit:-1,f:h.f+U.f,l:h,r:U,d:0};m!=o-1;)h=E!=m&&(R==o||a[E].f<a[R].f)?a[E++]:a[R++],U=E!=m&&(R==o||a[E].f<a[R].f)?a[E++]:a[R++],a[m++]={lit:-1,f:h.f+U.f,l:h,r:U};var S=d.F.setDepth(a[m-1],0);for(S>c&&(d.F.restrictDepth(n,c,S),S=c),r=0;r<o;r++)t[1+(n[r].lit<<1)]=n[r].d;return S},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,c){var a=0,g=1<<c-t,A=0;for(e.sort(function(o,n){return n.d==o.d?o.f-n.f:n.d-o.d}),a=0;a<e.length&&e[a].d>t;a++){var r=e[a].d;e[a].d=t,A+=g-(1<<c-r)}for(A>>>=c-t;A>0;)(r=e[a].d)<t?(e[a].d++,A-=1<<t-r-1):a++;for(;a>=0;a--)e[a].d==t&&A<0&&(e[a].d--,A++);A!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var c=0;return t[16|c]<=e&&(c|=16),t[8|c]<=e&&(c|=8),t[4|c]<=e&&(c|=4),t[2|c]<=e&&(c|=2),t[1|c]<=e&&(c|=1),c},d.F._writeLit=function(e,t,c,a){return d.F._putsF(c,a,t[e<<1]),a+t[1+(e<<1)]},d.F.inflate=function(e,t){var c=Uint8Array;if(e[0]==3&&e[1]==0)return t||new c(0);var a=d.F,g=a._bitsF,A=a._bitsE,r=a._decodeTiny,o=a.makeCodes,n=a.codes2map,s=a._get17,h=a.U,U=t==null;U&&(t=new c(e.length>>>2<<3));for(var E,m,R=0,S=0,F=0,D=0,p=0,T=0,u=0,l=0,y=0;R==0;)if(R=g(e,y,1),S=g(e,y+1,2),y+=3,S!=0){if(U&&(t=d.F._check(t,l+(1<<17))),S==1&&(E=h.flmap,m=h.fdmap,T=511,u=31),S==2){F=A(e,y,5)+257,D=A(e,y+5,5)+1,p=A(e,y+10,4)+4,y+=14;for(var _=0;_<38;_+=2)h.itree[_]=0,h.itree[_+1]=0;var w=1;for(_=0;_<p;_++){var b=A(e,y+3*_,3);h.itree[1+(h.ordr[_]<<1)]=b,b>w&&(w=b)}y+=3*p,o(h.itree,w),n(h.itree,w,h.imap),E=h.lmap,m=h.dmap,y=r(h.imap,(1<<w)-1,F+D,e,y,h.ttree);var v=a._copyOut(h.ttree,0,F,h.ltree);T=(1<<v)-1;var I=a._copyOut(h.ttree,F,D,h.dtree);u=(1<<I)-1,o(h.ltree,v),n(h.ltree,v,E),o(h.dtree,I),n(h.dtree,I,m)}for(;;){var f=E[s(e,y)&T];y+=15&f;var i=f>>>4;if(!(i>>>8))t[l++]=i;else{if(i==256)break;var O=l+i-254;if(i>264){var C=h.ldef[i-257];O=l+(C>>>3)+A(e,y,7&C),y+=7&C}var P=m[s(e,y)&u];y+=15&P;var $=P>>>4,N=h.ddef[$],B=(N>>>4)+g(e,y,15&N);for(y+=15&N,U&&(t=d.F._check(t,l+(1<<17)));l<O;)t[l]=t[l++-B],t[l]=t[l++-B],t[l]=t[l++-B],t[l]=t[l++-B];l=O}}}else{(7&y)!=0&&(y+=8-(7&y));var H=4+(y>>>3),k=e[H-4]|e[H-3]<<8;U&&(t=d.F._check(t,l+k)),t.set(new c(e.buffer,e.byteOffset+H,k),l),y=H+k<<3,l+=k}return t.length==l?t:t.slice(0,l)},d.F._check=function(e,t){var c=e.length;if(t<=c)return e;var a=new Uint8Array(Math.max(c<<1,t));return a.set(e,0),a},d.F._decodeTiny=function(e,t,c,a,g,A){for(var r=d.F._bitsE,o=d.F._get17,n=0;n<c;){var s=e[o(a,g)&t];g+=15&s;var h=s>>>4;if(h<=15)A[n]=h,n++;else{var U=0,E=0;h==16?(E=3+r(a,g,2),g+=2,U=A[n-1]):h==17?(E=3+r(a,g,3),g+=3):h==18&&(E=11+r(a,g,7),g+=7);for(var m=n+E;n<m;)A[n]=U,n++}}return g},d.F._copyOut=function(e,t,c,a){for(var g=0,A=0,r=a.length>>>1;A<c;){var o=e[A+t];a[A<<1]=0,a[1+(A<<1)]=o,o>g&&(g=o),A++}for(;A<r;)a[A<<1]=0,a[1+(A<<1)]=0,A++;return g},d.F.makeCodes=function(e,t){for(var c,a,g,A,r=d.F.U,o=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<o;s+=2)n[e[s]]++;var h=r.next_code;for(c=0,n[0]=0,a=1;a<=t;a++)c=c+n[a-1]<<1,h[a]=c;for(g=0;g<o;g+=2)(A=e[g+1])!=0&&(e[g]=h[A],h[A]++)},d.F.codes2map=function(e,t,c){for(var a=e.length,g=d.F.U.rev15,A=0;A<a;A+=2)if(e[A+1]!=0)for(var r=A>>1,o=e[A+1],n=r<<4|o,s=t-o,h=e[A]<<s,U=h+(1<<s);h!=U;)c[g[h]>>>15-t]=n,h++},d.F.revCodes=function(e,t){for(var c=d.F.U.rev15,a=15-t,g=0;g<e.length;g+=2){var A=e[g]<<t-e[g+1];e[g]=c[A]>>>a}},d.F._putsE=function(e,t,c){c<<=7&t;var a=t>>>3;e[a]|=c,e[a+1]|=c>>>8},d.F._putsF=function(e,t,c){c<<=7&t;var a=t>>>3;e[a]|=c,e[a+1]|=c>>>8,e[a+2]|=c>>>16},d.F._bitsE=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<c)-1},d.F._bitsF=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<c)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(x=Uint16Array,L=Uint32Array,{next_code:new x(16),bl_count:new x(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new x(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new L(32),flmap:new x(512),fltree:[],fdmap:new x(32),fdtree:[],lmap:new x(32768),ltree:[],ttree:[],dmap:new x(32768),dtree:[],imap:new x(512),itree:[],rev15:new x(32768),lhst:new L(286),dhst:new L(30),ihst:new L(19),lits:new L(15e3),strt:new x(65536),prev:new x(32768)}),function(){for(var e=d.F.U,t=0;t<32768;t++){var c=t;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,e.rev15[t]=(c>>>16|c<<16)>>>17}function a(g,A,r){for(;A--!=0;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),a(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var qt=Qt({__proto__:null,default:ze},[ze]);const ge=function(){var M={nextZero(r,o){for(;r[o]!=0;)o++;return o},readUshort:(r,o)=>r[o]<<8|r[o+1],writeUshort(r,o,n){r[o]=n>>8&255,r[o+1]=255&n},readUint:(r,o)=>16777216*r[o]+(r[o+1]<<16|r[o+2]<<8|r[o+3]),writeUint(r,o,n){r[o]=n>>24&255,r[o+1]=n>>16&255,r[o+2]=n>>8&255,r[o+3]=255&n},readASCII(r,o,n){let s="";for(let h=0;h<n;h++)s+=String.fromCharCode(r[o+h]);return s},writeASCII(r,o,n){for(let s=0;s<n.length;s++)r[o+s]=n.charCodeAt(s)},readBytes(r,o,n){const s=[];for(let h=0;h<n;h++)s.push(r[o+h]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,o,n){let s,h="";for(let U=0;U<n;U++)h+=`%${M.pad(r[o+U].toString(16))}`;try{s=decodeURIComponent(h)}catch{return M.readASCII(r,o,n)}return s}};function x(r,o,n,s){const h=o*n,U=t(s),E=Math.ceil(o*U/8),m=new Uint8Array(4*h),R=new Uint32Array(m.buffer),{ctype:S}=s,{depth:F}=s,D=M.readUshort;if(S==6){const C=h<<2;if(F==8)for(var p=0;p<C;p+=4)m[p]=r[p],m[p+1]=r[p+1],m[p+2]=r[p+2],m[p+3]=r[p+3];if(F==16)for(p=0;p<C;p++)m[p]=r[p<<1]}else if(S==2){const C=s.tabs.tRNS;if(C==null){if(F==8)for(p=0;p<h;p++){var T=3*p;R[p]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T]}if(F==16)for(p=0;p<h;p++)T=6*p,R[p]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T]}else{var u=C[0];const P=C[1],$=C[2];if(F==8)for(p=0;p<h;p++){var l=p<<2;T=3*p,R[p]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T],r[T]==u&&r[T+1]==P&&r[T+2]==$&&(m[l+3]=0)}if(F==16)for(p=0;p<h;p++)l=p<<2,T=6*p,R[p]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T],D(r,T)==u&&D(r,T+2)==P&&D(r,T+4)==$&&(m[l+3]=0)}}else if(S==3){const C=s.tabs.PLTE,P=s.tabs.tRNS,$=P?P.length:0;if(F==1)for(var y=0;y<n;y++){var _=y*E,w=y*o;for(p=0;p<o;p++){l=w+p<<2;var b=3*(v=r[_+(p>>3)]>>7-((7&p)<<0)&1);m[l]=C[b],m[l+1]=C[b+1],m[l+2]=C[b+2],m[l+3]=v<$?P[v]:255}}if(F==2)for(y=0;y<n;y++)for(_=y*E,w=y*o,p=0;p<o;p++)l=w+p<<2,b=3*(v=r[_+(p>>2)]>>6-((3&p)<<1)&3),m[l]=C[b],m[l+1]=C[b+1],m[l+2]=C[b+2],m[l+3]=v<$?P[v]:255;if(F==4)for(y=0;y<n;y++)for(_=y*E,w=y*o,p=0;p<o;p++)l=w+p<<2,b=3*(v=r[_+(p>>1)]>>4-((1&p)<<2)&15),m[l]=C[b],m[l+1]=C[b+1],m[l+2]=C[b+2],m[l+3]=v<$?P[v]:255;if(F==8)for(p=0;p<h;p++){var v;l=p<<2,b=3*(v=r[p]),m[l]=C[b],m[l+1]=C[b+1],m[l+2]=C[b+2],m[l+3]=v<$?P[v]:255}}else if(S==4){if(F==8)for(p=0;p<h;p++){l=p<<2;var I=r[f=p<<1];m[l]=I,m[l+1]=I,m[l+2]=I,m[l+3]=r[f+1]}if(F==16)for(p=0;p<h;p++){var f;l=p<<2,I=r[f=p<<2],m[l]=I,m[l+1]=I,m[l+2]=I,m[l+3]=r[f+2]}}else if(S==0)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,y=0;y<n;y++){const C=y*E,P=y*o;if(F==1)for(var i=0;i<o;i++){var O=(I=255*(r[C+(i>>>3)]>>>7-(7&i)&1))==255*u?0:255;R[P+i]=O<<24|I<<16|I<<8|I}else if(F==2)for(i=0;i<o;i++)O=(I=85*(r[C+(i>>>2)]>>>6-((3&i)<<1)&3))==85*u?0:255,R[P+i]=O<<24|I<<16|I<<8|I;else if(F==4)for(i=0;i<o;i++)O=(I=17*(r[C+(i>>>1)]>>>4-((1&i)<<2)&15))==17*u?0:255,R[P+i]=O<<24|I<<16|I<<8|I;else if(F==8)for(i=0;i<o;i++)O=(I=r[C+i])==u?0:255,R[P+i]=O<<24|I<<16|I<<8|I;else if(F==16)for(i=0;i<o;i++)I=r[C+(i<<1)],O=D(r,C+(i<<1))==u?0:255,R[P+i]=O<<24|I<<16|I<<8|I}return m}function L(r,o,n,s){const h=t(r),U=Math.ceil(n*h/8),E=new Uint8Array((U+1+r.interlace)*s);return o=r.tabs.CgBI?e(o,E):d(o,E),r.interlace==0?o=c(o,r,0,n,s):r.interlace==1&&(o=function(R,S){const F=S.width,D=S.height,p=t(S),T=p>>3,u=Math.ceil(F*p/8),l=new Uint8Array(D*u);let y=0;const _=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],b=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let I=0;for(;I<7;){const i=b[I],O=v[I];let C=0,P=0,$=_[I];for(;$<D;)$+=i,P++;let N=w[I];for(;N<F;)N+=O,C++;const B=Math.ceil(C*p/8);c(R,S,y,C,P);let H=0,k=_[I];for(;k<D;){let z=w[I],Z=y+H*B<<3;for(;z<F;){var f;if(p==1&&(f=(f=R[Z>>3])>>7-(7&Z)&1,l[k*u+(z>>3)]|=f<<7-((7&z)<<0)),p==2&&(f=(f=R[Z>>3])>>6-(7&Z)&3,l[k*u+(z>>2)]|=f<<6-((3&z)<<1)),p==4&&(f=(f=R[Z>>3])>>4-(7&Z)&15,l[k*u+(z>>1)]|=f<<4-((1&z)<<2)),p>=8){const W=k*u+z*T;for(let Q=0;Q<T;Q++)l[W+Q]=R[(Z>>3)+Q]}Z+=p,z+=O}H++,k+=i}C*P!=0&&(y+=P*(1+B)),I+=1}return l}(o,r)),o}function d(r,o){return e(new Uint8Array(r.buffer,2,r.length-6),o)}var e=function(){const r={H:{}};return r.H.N=function(o,n){const s=Uint8Array;let h,U,E=0,m=0,R=0,S=0,F=0,D=0,p=0,T=0,u=0;if(o[0]==3&&o[1]==0)return n||new s(0);const l=r.H,y=l.b,_=l.e,w=l.R,b=l.n,v=l.A,I=l.Z,f=l.m,i=n==null;for(i&&(n=new s(o.length>>>2<<5));E==0;)if(E=y(o,u,1),m=y(o,u+1,2),u+=3,m!=0){if(i&&(n=r.H.W(n,T+(1<<17))),m==1&&(h=f.J,U=f.h,D=511,p=31),m==2){R=_(o,u,5)+257,S=_(o,u+5,5)+1,F=_(o,u+10,4)+4,u+=14;let C=1;for(var O=0;O<38;O+=2)f.Q[O]=0,f.Q[O+1]=0;for(O=0;O<F;O++){const N=_(o,u+3*O,3);f.Q[1+(f.X[O]<<1)]=N,N>C&&(C=N)}u+=3*F,b(f.Q,C),v(f.Q,C,f.u),h=f.w,U=f.d,u=w(f.u,(1<<C)-1,R+S,o,u,f.v);const P=l.V(f.v,0,R,f.C);D=(1<<P)-1;const $=l.V(f.v,R,S,f.D);p=(1<<$)-1,b(f.C,P),v(f.C,P,h),b(f.D,$),v(f.D,$,U)}for(;;){const C=h[I(o,u)&D];u+=15&C;const P=C>>>4;if(!(P>>>8))n[T++]=P;else{if(P==256)break;{let $=T+P-254;if(P>264){const z=f.q[P-257];$=T+(z>>>3)+_(o,u,7&z),u+=7&z}const N=U[I(o,u)&p];u+=15&N;const B=N>>>4,H=f.c[B],k=(H>>>4)+y(o,u,15&H);for(u+=15&H;T<$;)n[T]=n[T++-k],n[T]=n[T++-k],n[T]=n[T++-k],n[T]=n[T++-k];T=$}}}}else{(7&u)!=0&&(u+=8-(7&u));const C=4+(u>>>3),P=o[C-4]|o[C-3]<<8;i&&(n=r.H.W(n,T+P)),n.set(new s(o.buffer,o.byteOffset+C,P),T),u=C+P<<3,T+=P}return n.length==T?n:n.slice(0,T)},r.H.W=function(o,n){const s=o.length;if(n<=s)return o;const h=new Uint8Array(s<<1);return h.set(o,0),h},r.H.R=function(o,n,s,h,U,E){const m=r.H.e,R=r.H.Z;let S=0;for(;S<s;){const F=o[R(h,U)&n];U+=15&F;const D=F>>>4;if(D<=15)E[S]=D,S++;else{let p=0,T=0;D==16?(T=3+m(h,U,2),U+=2,p=E[S-1]):D==17?(T=3+m(h,U,3),U+=3):D==18&&(T=11+m(h,U,7),U+=7);const u=S+T;for(;S<u;)E[S]=p,S++}}return U},r.H.V=function(o,n,s,h){let U=0,E=0;const m=h.length>>>1;for(;E<s;){const R=o[E+n];h[E<<1]=0,h[1+(E<<1)]=R,R>U&&(U=R),E++}for(;E<m;)h[E<<1]=0,h[1+(E<<1)]=0,E++;return U},r.H.n=function(o,n){const s=r.H.m,h=o.length;let U,E,m,R;const S=s.j;for(var F=0;F<=n;F++)S[F]=0;for(F=1;F<h;F+=2)S[o[F]]++;const D=s.K;for(U=0,S[0]=0,E=1;E<=n;E++)U=U+S[E-1]<<1,D[E]=U;for(m=0;m<h;m+=2)R=o[m+1],R!=0&&(o[m]=D[R],D[R]++)},r.H.A=function(o,n,s){const h=o.length,U=r.H.m.r;for(let E=0;E<h;E+=2)if(o[E+1]!=0){const m=E>>1,R=o[E+1],S=m<<4|R,F=n-R;let D=o[E]<<F;const p=D+(1<<F);for(;D!=p;)s[U[D]>>>15-n]=S,D++}},r.H.l=function(o,n){const s=r.H.m.r,h=15-n;for(let U=0;U<o.length;U+=2){const E=o[U]<<n-o[U+1];o[U]=s[E]>>>h}},r.H.M=function(o,n,s){s<<=7&n;const h=n>>>3;o[h]|=s,o[h+1]|=s>>>8},r.H.I=function(o,n,s){s<<=7&n;const h=n>>>3;o[h]|=s,o[h+1]|=s>>>8,o[h+2]|=s>>>16},r.H.e=function(o,n,s){return(o[n>>>3]|o[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(o,n,s){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16|o[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const o=Uint16Array,n=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,o.r[n]=(h>>>16|h<<16)>>>17}function s(h,U,E){for(;U--!=0;)h.push(0,E)}for(n=0;n<32;n++)o.q[n]=o.S[n]<<3|o.T[n],o.c[n]=o.p[n]<<4|o.z[n];s(o._,144,8),s(o._,112,9),s(o._,24,7),s(o._,8,8),r.H.n(o._,9),r.H.A(o._,9,o.J),r.H.l(o._,9),s(o.$,32,5),r.H.n(o.$,5),r.H.A(o.$,5,o.h),r.H.l(o.$,5),s(o.Q,19,0),s(o.C,286,0),s(o.D,30,0),s(o.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function c(r,o,n,s,h){let U=t(o);const E=Math.ceil(s*U/8);let m,R;U=Math.ceil(U/8);let S=r[n],F=0;if(S>1&&(r[n]=[0,0,1][S-2]),S==3)for(F=U;F<E;F++)r[F+1]=r[F+1]+(r[F+1-U]>>>1)&255;for(let D=0;D<h;D++)if(m=n+D*E,R=m+D+1,S=r[R-1],F=0,S==0)for(;F<E;F++)r[m+F]=r[R+F];else if(S==1){for(;F<U;F++)r[m+F]=r[R+F];for(;F<E;F++)r[m+F]=r[R+F]+r[m+F-U]}else if(S==2)for(;F<E;F++)r[m+F]=r[R+F]+r[m+F-E];else if(S==3){for(;F<U;F++)r[m+F]=r[R+F]+(r[m+F-E]>>>1);for(;F<E;F++)r[m+F]=r[R+F]+(r[m+F-E]+r[m+F-U]>>>1)}else{for(;F<U;F++)r[m+F]=r[R+F]+a(0,r[m+F-E],0);for(;F<E;F++)r[m+F]=r[R+F]+a(r[m+F-U],r[m+F-E],r[m+F-U-E])}return r}function a(r,o,n){const s=r+o-n,h=s-r,U=s-o,E=s-n;return h*h<=U*U&&h*h<=E*E?r:U*U<=E*E?o:n}function g(r,o,n){n.width=M.readUint(r,o),o+=4,n.height=M.readUint(r,o),o+=4,n.depth=r[o],o++,n.ctype=r[o],o++,n.compress=r[o],o++,n.filter=r[o],o++,n.interlace=r[o],o++}function A(r,o,n,s,h,U,E,m,R){const S=Math.min(o,h),F=Math.min(n,U);let D=0,p=0;for(let I=0;I<F;I++)for(let f=0;f<S;f++)if(E>=0&&m>=0?(D=I*o+f<<2,p=(m+I)*h+E+f<<2):(D=(-m+I)*o-E+f<<2,p=I*h+f<<2),R==0)s[p]=r[D],s[p+1]=r[D+1],s[p+2]=r[D+2],s[p+3]=r[D+3];else if(R==1){var T=r[D+3]*.00392156862745098,u=r[D]*T,l=r[D+1]*T,y=r[D+2]*T,_=s[p+3]*(1/255),w=s[p]*_,b=s[p+1]*_,v=s[p+2]*_;const i=1-T,O=T+_*i,C=O==0?0:1/O;s[p+3]=255*O,s[p+0]=(u+w*i)*C,s[p+1]=(l+b*i)*C,s[p+2]=(y+v*i)*C}else if(R==2)T=r[D+3],u=r[D],l=r[D+1],y=r[D+2],_=s[p+3],w=s[p],b=s[p+1],v=s[p+2],T==_&&u==w&&l==b&&y==v?(s[p]=0,s[p+1]=0,s[p+2]=0,s[p+3]=0):(s[p]=u,s[p+1]=l,s[p+2]=y,s[p+3]=T);else if(R==3){if(T=r[D+3],u=r[D],l=r[D+1],y=r[D+2],_=s[p+3],w=s[p],b=s[p+1],v=s[p+2],T==_&&u==w&&l==b&&y==v)continue;if(T<220&&_>20)return!1}return!0}return{decode:function(o){const n=new Uint8Array(o);let s=8;const h=M,U=h.readUshort,E=h.readUint,m={tabs:{},frames:[]},R=new Uint8Array(n.length);let S,F=0,D=0;const p=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(n[T]!=p[T])throw"The input is not a PNG file!";for(;s<n.length;){const I=h.readUint(n,s);s+=4;const f=h.readASCII(n,s,4);if(s+=4,f=="IHDR")g(n,s,m);else if(f=="iCCP"){for(var u=s;n[u]!=0;)u++;h.readASCII(n,s,u-s),n[u+1];const i=n.slice(u+2,s+I);let O=null;try{O=d(i)}catch{O=e(i)}m.tabs[f]=O}else if(f=="CgBI")m.tabs[f]=n.slice(s,s+4);else if(f=="IDAT"){for(T=0;T<I;T++)R[F+T]=n[s+T];F+=I}else if(f=="acTL")m.tabs[f]={num_frames:E(n,s),num_plays:E(n,s+4)},S=new Uint8Array(n.length);else if(f=="fcTL"){D!=0&&((v=m.frames[m.frames.length-1]).data=L(m,S.slice(0,D),v.rect.width,v.rect.height),D=0);const i={x:E(n,s+12),y:E(n,s+16),width:E(n,s+4),height:E(n,s+8)};let O=U(n,s+22);O=U(n,s+20)/(O==0?100:O);const C={rect:i,delay:Math.round(1e3*O),dispose:n[s+24],blend:n[s+25]};m.frames.push(C)}else if(f=="fdAT"){for(T=0;T<I-4;T++)S[D+T]=n[s+T+4];D+=I-4}else if(f=="pHYs")m.tabs[f]=[h.readUint(n,s),h.readUint(n,s+4),n[s+8]];else if(f=="cHRM")for(m.tabs[f]=[],T=0;T<8;T++)m.tabs[f].push(h.readUint(n,s+4*T));else if(f=="tEXt"||f=="zTXt"){m.tabs[f]==null&&(m.tabs[f]={});var l=h.nextZero(n,s),y=h.readASCII(n,s,l-s),_=s+I-l-1;if(f=="tEXt")b=h.readASCII(n,l+1,_);else{var w=d(n.slice(l+2,l+2+_));b=h.readUTF8(w,0,w.length)}m.tabs[f][y]=b}else if(f=="iTXt"){m.tabs[f]==null&&(m.tabs[f]={}),l=0,u=s,l=h.nextZero(n,u),y=h.readASCII(n,u,l-u);const i=n[u=l+1];var b;n[u+1],u+=2,l=h.nextZero(n,u),h.readASCII(n,u,l-u),u=l+1,l=h.nextZero(n,u),h.readUTF8(n,u,l-u),_=I-((u=l+1)-s),i==0?b=h.readUTF8(n,u,_):(w=d(n.slice(u,u+_)),b=h.readUTF8(w,0,w.length)),m.tabs[f][y]=b}else if(f=="PLTE")m.tabs[f]=h.readBytes(n,s,I);else if(f=="hIST"){const i=m.tabs.PLTE.length/3;for(m.tabs[f]=[],T=0;T<i;T++)m.tabs[f].push(U(n,s+2*T))}else if(f=="tRNS")m.ctype==3?m.tabs[f]=h.readBytes(n,s,I):m.ctype==0?m.tabs[f]=U(n,s):m.ctype==2&&(m.tabs[f]=[U(n,s),U(n,s+2),U(n,s+4)]);else if(f=="gAMA")m.tabs[f]=h.readUint(n,s)/1e5;else if(f=="sRGB")m.tabs[f]=n[s];else if(f=="bKGD")m.ctype==0||m.ctype==4?m.tabs[f]=[U(n,s)]:m.ctype==2||m.ctype==6?m.tabs[f]=[U(n,s),U(n,s+2),U(n,s+4)]:m.ctype==3&&(m.tabs[f]=n[s]);else if(f=="IEND")break;s+=I,h.readUint(n,s),s+=4}var v;return D!=0&&((v=m.frames[m.frames.length-1]).data=L(m,S.slice(0,D),v.rect.width,v.rect.height)),m.data=L(m,R,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(o){const n=o.width,s=o.height;if(o.tabs.acTL==null)return[x(o.data,n,s,o).buffer];const h=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const U=n*s*4,E=new Uint8Array(U),m=new Uint8Array(U),R=new Uint8Array(U);for(let F=0;F<o.frames.length;F++){const D=o.frames[F],p=D.rect.x,T=D.rect.y,u=D.rect.width,l=D.rect.height,y=x(D.data,u,l,o);if(F!=0)for(var S=0;S<U;S++)R[S]=E[S];if(D.blend==0?A(y,u,l,E,n,s,p,T,0):D.blend==1&&A(y,u,l,E,n,s,p,T,1),h.push(E.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)A(m,u,l,E,n,s,p,T,0);else if(D.dispose==2)for(S=0;S<U;S++)E[S]=R[S]}}return h},_paeth:a,_copyTile:A,_bin:M}}();(function(){const{_copyTile:M}=ge,{_bin:x}=ge,L=ge._paeth;var d={table:function(){const u=new Uint32Array(256);for(let l=0;l<256;l++){let y=l;for(let _=0;_<8;_++)1&y?y=3988292384^y>>>1:y>>>=1;u[l]=y}return u}(),update(u,l,y,_){for(let w=0;w<_;w++)u=d.table[255&(u^l[y+w])]^u>>>8;return u},crc:(u,l,y)=>4294967295^d.update(4294967295,u,l,y)};function e(u,l,y,_){l[y]+=u[0]*_>>4,l[y+1]+=u[1]*_>>4,l[y+2]+=u[2]*_>>4,l[y+3]+=u[3]*_>>4}function t(u){return Math.max(0,Math.min(255,u))}function c(u,l){const y=u[0]-l[0],_=u[1]-l[1],w=u[2]-l[2],b=u[3]-l[3];return y*y+_*_+w*w+b*b}function a(u,l,y,_,w,b,v){v==null&&(v=1);const I=_.length,f=[];for(var i=0;i<I;i++){const k=_[i];f.push([k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255])}for(i=0;i<I;i++){let k=4294967295;for(var O=0,C=0;C<I;C++){var P=c(f[i],f[C]);C!=i&&P<k&&(k=P,O=C)}}const $=new Uint32Array(w.buffer),N=new Int16Array(l*y*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(i=0;i<B.length;i++)B[i]=255*((B[i]+.5)/16-.5);for(let k=0;k<y;k++)for(let z=0;z<l;z++){var H;i=4*(k*l+z),v!=2?H=[t(u[i]+N[i]),t(u[i+1]+N[i+1]),t(u[i+2]+N[i+2]),t(u[i+3]+N[i+3])]:(P=B[4*(3&k)+(3&z)],H=[t(u[i]+P),t(u[i+1]+P),t(u[i+2]+P),t(u[i+3]+P)]),O=0;let Z=16777215;for(C=0;C<I;C++){const j=c(H,f[C]);j<Z&&(Z=j,O=C)}const W=f[O],Q=[H[0]-W[0],H[1]-W[1],H[2]-W[2],H[3]-W[3]];v==1&&(z!=l-1&&e(Q,N,i+4,7),k!=y-1&&(z!=0&&e(Q,N,i+4*l-4,3),e(Q,N,i+4*l,5),z!=l-1&&e(Q,N,i+4*l+4,1))),b[i>>2]=O,$[i>>2]=_[O]}}function g(u,l,y,_,w){w==null&&(w={});const{crc:b}=d,v=x.writeUint,I=x.writeUshort,f=x.writeASCII;let i=8;const O=u.frames.length>1;let C,P=!1,$=33+(O?20:0);if(w.sRGB!=null&&($+=13),w.pHYs!=null&&($+=21),w.iCCP!=null&&(C=pako.deflate(w.iCCP),$+=21+C.length+4),u.ctype==3){for(var N=u.plte.length,B=0;B<N;B++)u.plte[B]>>>24!=255&&(P=!0);$+=8+3*N+4+(P?8+1*N+4:0)}for(var H=0;H<u.frames.length;H++)O&&($+=38),$+=(W=u.frames[H]).cimg.length+12,H!=0&&($+=4);$+=12;const k=new Uint8Array($),z=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)k[B]=z[B];if(v(k,i,13),i+=4,f(k,i,"IHDR"),i+=4,v(k,i,l),i+=4,v(k,i,y),i+=4,k[i]=u.depth,i++,k[i]=u.ctype,i++,k[i]=0,i++,k[i]=0,i++,k[i]=0,i++,v(k,i,b(k,i-17,17)),i+=4,w.sRGB!=null&&(v(k,i,1),i+=4,f(k,i,"sRGB"),i+=4,k[i]=w.sRGB,i++,v(k,i,b(k,i-5,5)),i+=4),w.iCCP!=null){const Q=13+C.length;v(k,i,Q),i+=4,f(k,i,"iCCP"),i+=4,f(k,i,"ICC profile"),i+=11,i+=2,k.set(C,i),i+=C.length,v(k,i,b(k,i-(Q+4),Q+4)),i+=4}if(w.pHYs!=null&&(v(k,i,9),i+=4,f(k,i,"pHYs"),i+=4,v(k,i,w.pHYs[0]),i+=4,v(k,i,w.pHYs[1]),i+=4,k[i]=w.pHYs[2],i++,v(k,i,b(k,i-13,13)),i+=4),O&&(v(k,i,8),i+=4,f(k,i,"acTL"),i+=4,v(k,i,u.frames.length),i+=4,v(k,i,w.loop!=null?w.loop:0),i+=4,v(k,i,b(k,i-12,12)),i+=4),u.ctype==3){for(v(k,i,3*(N=u.plte.length)),i+=4,f(k,i,"PLTE"),i+=4,B=0;B<N;B++){const Q=3*B,j=u.plte[B],X=255&j,ee=j>>>8&255,Ee=j>>>16&255;k[i+Q+0]=X,k[i+Q+1]=ee,k[i+Q+2]=Ee}if(i+=3*N,v(k,i,b(k,i-3*N-4,3*N+4)),i+=4,P){for(v(k,i,N),i+=4,f(k,i,"tRNS"),i+=4,B=0;B<N;B++)k[i+B]=u.plte[B]>>>24&255;i+=N,v(k,i,b(k,i-N-4,N+4)),i+=4}}let Z=0;for(H=0;H<u.frames.length;H++){var W=u.frames[H];O&&(v(k,i,26),i+=4,f(k,i,"fcTL"),i+=4,v(k,i,Z++),i+=4,v(k,i,W.rect.width),i+=4,v(k,i,W.rect.height),i+=4,v(k,i,W.rect.x),i+=4,v(k,i,W.rect.y),i+=4,I(k,i,_[H]),i+=2,I(k,i,1e3),i+=2,k[i]=W.dispose,i++,k[i]=W.blend,i++,v(k,i,b(k,i-30,30)),i+=4);const Q=W.cimg;v(k,i,(N=Q.length)+(H==0?0:4)),i+=4;const j=i;f(k,i,H==0?"IDAT":"fdAT"),i+=4,H!=0&&(v(k,i,Z++),i+=4),k.set(Q,i),i+=N,v(k,i,b(k,j,i-j)),i+=4}return v(k,i,0),i+=4,f(k,i,"IEND"),i+=4,v(k,i,b(k,i-4,4)),i+=4,k.buffer}function A(u,l,y){for(let _=0;_<u.frames.length;_++){const w=u.frames[_];w.rect.width;const b=w.rect.height,v=new Uint8Array(b*w.bpl+b);w.cimg=s(w.img,b,w.bpp,w.bpl,v,l,y)}}function r(u,l,y,_,w){const b=w[0],v=w[1],I=w[2],f=w[3],i=w[4],O=w[5];let C=6,P=8,$=255;for(var N=0;N<u.length;N++){const re=new Uint8Array(u[N]);for(var B=re.length,H=0;H<B;H+=4)$&=re[H+3]}const k=$!=255,z=function(K,q,te,ae,Y,fe){const J=[];for(var G=0;G<K.length;G++){const ie=new Uint8Array(K[G]),he=new Uint32Array(ie.buffer);var ce;let de=0,we=0,me=q,ke=te,Ge=ae?1:0;if(G!=0){const Ct=fe||ae||G==1||J[G-2].dispose!=0?1:2;let Ze=0,ot=1e9;for(let De=0;De<Ct;De++){var Ue=new Uint8Array(K[G-1-De]);const Et=new Uint32Array(K[G-1-De]);let Ie=q,Ce=te,Oe=-1,Pe=-1;for(let Se=0;Se<te;Se++)for(let xe=0;xe<q;xe++)he[oe=Se*q+xe]!=Et[oe]&&(xe<Ie&&(Ie=xe),xe>Oe&&(Oe=xe),Se<Ce&&(Ce=Se),Se>Pe&&(Pe=Se));Oe==-1&&(Ie=Ce=Oe=Pe=0),Y&&((1&Ie)==1&&Ie--,(1&Ce)==1&&Ce--);const at=(Oe-Ie+1)*(Pe-Ce+1);at<ot&&(ot=at,Ze=De,de=Ie,we=Ce,me=Oe-Ie+1,ke=Pe-Ce+1)}Ue=new Uint8Array(K[G-1-Ze]),Ze==1&&(J[G-1].dispose=2),ce=new Uint8Array(me*ke*4),M(Ue,q,te,ce,me,ke,-de,-we,0),Ge=M(ie,q,te,ce,me,ke,-de,-we,3)?1:0,Ge==1?n(ie,q,te,ce,{x:de,y:we,width:me,height:ke}):M(ie,q,te,ce,me,ke,-de,-we,0)}else ce=ie.slice(0);J.push({rect:{x:de,y:we,width:me,height:ke},img:ce,blend:Ge,dispose:0})}if(ae)for(G=0;G<J.length;G++){if((Fe=J[G]).blend==1)continue;const ie=Fe.rect,he=J[G-1].rect,de=Math.min(ie.x,he.x),we=Math.min(ie.y,he.y),me={x:de,y:we,width:Math.max(ie.x+ie.width,he.x+he.width)-de,height:Math.max(ie.y+ie.height,he.y+he.height)-we};J[G-1].dispose=1,G-1!=0&&o(K,q,te,J,G-1,me,Y),o(K,q,te,J,G,me,Y)}let Le=0;if(K.length!=1)for(var oe=0;oe<J.length;oe++){var Fe;Le+=(Fe=J[oe]).rect.width*Fe.rect.height}return J}(u,l,y,b,v,I),Z={},W=[],Q=[];if(_!=0){const re=[];for(H=0;H<z.length;H++)re.push(z[H].img.buffer);const K=function(Y){let fe=0;for(var J=0;J<Y.length;J++)fe+=Y[J].byteLength;const G=new Uint8Array(fe);let ce=0;for(J=0;J<Y.length;J++){const Ue=new Uint8Array(Y[J]),Le=Ue.length;for(let oe=0;oe<Le;oe+=4){let Fe=Ue[oe],ie=Ue[oe+1],he=Ue[oe+2];const de=Ue[oe+3];de==0&&(Fe=ie=he=0),G[ce+oe]=Fe,G[ce+oe+1]=ie,G[ce+oe+2]=he,G[ce+oe+3]=de}ce+=Le}return G.buffer}(re),q=U(K,_);for(H=0;H<q.plte.length;H++)W.push(q.plte[H].est.rgba);let te=0;for(H=0;H<z.length;H++){const ae=(X=z[H]).img.length;var j=new Uint8Array(q.inds.buffer,te>>2,ae>>2);Q.push(j);const Y=new Uint8Array(q.abuf,te,ae);O&&a(X.img,X.rect.width,X.rect.height,W,Y,j),X.img.set(Y),te+=ae}}else for(N=0;N<z.length;N++){var X=z[N];const re=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(B=re.length,j=new Uint8Array(B),Q.push(j),H=0;H<B;H++){const K=re[H];if(H!=0&&K==re[H-1])j[H]=j[H-1];else if(H>ee&&K==re[H-ee])j[H]=j[H-ee];else{let q=Z[K];if(q==null&&(Z[K]=q=W.length,W.push(K),W.length>=300))break;j[H]=q}}}const Ee=W.length;for(Ee<=256&&i==0&&(P=Ee<=2?1:Ee<=4?2:Ee<=16?4:8,P=Math.max(P,f)),N=0;N<z.length;N++){(X=z[N]).rect.x,X.rect.y,ee=X.rect.width;const re=X.rect.height;let K=X.img;new Uint32Array(K.buffer);let q=4*ee,te=4;if(Ee<=256&&i==0){q=Math.ceil(P*ee/8);var ve=new Uint8Array(q*re);const ae=Q[N];for(let Y=0;Y<re;Y++){H=Y*q;const fe=Y*ee;if(P==8)for(var V=0;V<ee;V++)ve[H+V]=ae[fe+V];else if(P==4)for(V=0;V<ee;V++)ve[H+(V>>1)]|=ae[fe+V]<<4-4*(1&V);else if(P==2)for(V=0;V<ee;V++)ve[H+(V>>2)]|=ae[fe+V]<<6-2*(3&V);else if(P==1)for(V=0;V<ee;V++)ve[H+(V>>3)]|=ae[fe+V]<<7-1*(7&V)}K=ve,C=3,te=1}else if(k==0&&z.length==1){ve=new Uint8Array(ee*re*3);const ae=ee*re;for(H=0;H<ae;H++){const Y=3*H,fe=4*H;ve[Y]=K[fe],ve[Y+1]=K[fe+1],ve[Y+2]=K[fe+2]}K=ve,C=2,te=3,q=3*ee}X.img=K,X.bpl=q,X.bpp=te}return{ctype:C,depth:P,plte:W,frames:z}}function o(u,l,y,_,w,b,v){const I=Uint8Array,f=Uint32Array,i=new I(u[w-1]),O=new f(u[w-1]),C=w+1<u.length?new I(u[w+1]):null,P=new I(u[w]),$=new f(P.buffer);let N=l,B=y,H=-1,k=-1;for(let Z=0;Z<b.height;Z++)for(let W=0;W<b.width;W++){const Q=b.x+W,j=b.y+Z,X=j*l+Q,ee=$[X];ee==0||_[w-1].dispose==0&&O[X]==ee&&(C==null||C[4*X+3]!=0)||(Q<N&&(N=Q),Q>H&&(H=Q),j<B&&(B=j),j>k&&(k=j))}H==-1&&(N=B=H=k=0),v&&((1&N)==1&&N--,(1&B)==1&&B--),b={x:N,y:B,width:H-N+1,height:k-B+1};const z=_[w];z.rect=b,z.blend=1,z.img=new Uint8Array(b.width*b.height*4),_[w-1].dispose==0?(M(i,l,y,z.img,b.width,b.height,-b.x,-b.y,0),n(P,l,y,z.img,b)):M(P,l,y,z.img,b.width,b.height,-b.x,-b.y,0)}function n(u,l,y,_,w){M(u,l,y,_,w.width,w.height,-w.x,-w.y,2)}function s(u,l,y,_,w,b,v){const I=[];let f,i=[0,1,2,3,4];b!=-1?i=[b]:(l*_>5e5||y==1)&&(i=[0]),v&&(f={level:0});const O=qt;for(var C=0;C<i.length;C++){for(let N=0;N<l;N++)h(w,u,N,_,y,i[C]);I.push(O.deflate(w,f))}let P,$=1e9;for(C=0;C<I.length;C++)I[C].length<$&&(P=C,$=I[C].length);return I[P]}function h(u,l,y,_,w,b){const v=y*_;let I=v+y;if(u[I]=b,I++,b==0)if(_<500)for(var f=0;f<_;f++)u[I+f]=l[v+f];else u.set(new Uint8Array(l.buffer,v,_),I);else if(b==1){for(f=0;f<w;f++)u[I+f]=l[v+f];for(f=w;f<_;f++)u[I+f]=l[v+f]-l[v+f-w]+256&255}else if(y==0){for(f=0;f<w;f++)u[I+f]=l[v+f];if(b==2)for(f=w;f<_;f++)u[I+f]=l[v+f];if(b==3)for(f=w;f<_;f++)u[I+f]=l[v+f]-(l[v+f-w]>>1)+256&255;if(b==4)for(f=w;f<_;f++)u[I+f]=l[v+f]-L(l[v+f-w],0,0)+256&255}else{if(b==2)for(f=0;f<_;f++)u[I+f]=l[v+f]+256-l[v+f-_]&255;if(b==3){for(f=0;f<w;f++)u[I+f]=l[v+f]+256-(l[v+f-_]>>1)&255;for(f=w;f<_;f++)u[I+f]=l[v+f]+256-(l[v+f-_]+l[v+f-w]>>1)&255}if(b==4){for(f=0;f<w;f++)u[I+f]=l[v+f]+256-L(0,l[v+f-_],0)&255;for(f=w;f<_;f++)u[I+f]=l[v+f]+256-L(l[v+f-w],l[v+f-_],l[v+f-w-_])&255}}}function U(u,l){const y=new Uint8Array(u),_=y.slice(0),w=new Uint32Array(_.buffer),b=E(_,l),v=b[0],I=b[1],f=y.length,i=new Uint8Array(f>>2);let O;if(y.length<2e7)for(var C=0;C<f;C+=4)O=m(v,P=y[C]*(1/255),$=y[C+1]*(1/255),N=y[C+2]*(1/255),B=y[C+3]*(1/255)),i[C>>2]=O.ind,w[C>>2]=O.est.rgba;else for(C=0;C<f;C+=4){var P=y[C]*.00392156862745098,$=y[C+1]*(1/255),N=y[C+2]*(1/255),B=y[C+3]*(1/255);for(O=v;O.left;)O=R(O.est,P,$,N,B)<=0?O.left:O.right;i[C>>2]=O.ind,w[C>>2]=O.est.rgba}return{abuf:_.buffer,inds:i,plte:I}}function E(u,l,y){y==null&&(y=1e-4);const _=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=D(u,w.i0,w.i1),w.est=p(w.bst);const b=[w];for(;b.length<l;){let I=0,f=0;for(var v=0;v<b.length;v++)b[v].est.L>I&&(I=b[v].est.L,f=v);if(I<y)break;const i=b[f],O=S(u,_,i.i0,i.i1,i.est.e,i.est.eMq255);if(i.i0>=O||i.i1<=O){i.est.L=0;continue}const C={i0:i.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};C.bst=D(u,C.i0,C.i1),C.est=p(C.bst);const P={i0:O,i1:i.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:i.bst.N-C.bst.N},v=0;v<16;v++)P.bst.R[v]=i.bst.R[v]-C.bst.R[v];for(v=0;v<4;v++)P.bst.m[v]=i.bst.m[v]-C.bst.m[v];P.est=p(P.bst),i.left=C,i.right=P,b[f]=C,b.push(P)}for(b.sort((I,f)=>f.bst.N-I.bst.N),v=0;v<b.length;v++)b[v].ind=v;return[w,b]}function m(u,l,y,_,w){if(u.left==null)return u.tdst=function(C,P,$,N,B){const H=P-C[0],k=$-C[1],z=N-C[2],Z=B-C[3];return H*H+k*k+z*z+Z*Z}(u.est.q,l,y,_,w),u;const b=R(u.est,l,y,_,w);let v=u.left,I=u.right;b>0&&(v=u.right,I=u.left);const f=m(v,l,y,_,w);if(f.tdst<=b*b)return f;const i=m(I,l,y,_,w);return i.tdst<f.tdst?i:f}function R(u,l,y,_,w){const{e:b}=u;return b[0]*l+b[1]*y+b[2]*_+b[3]*w-u.eMq}function S(u,l,y,_,w,b){for(_-=4;y<_;){for(;F(u,y,w)<=b;)y+=4;for(;F(u,_,w)>b;)_-=4;if(y>=_)break;const v=l[y>>2];l[y>>2]=l[_>>2],l[_>>2]=v,y+=4,_-=4}for(;F(u,y,w)>b;)y-=4;return y+4}function F(u,l,y){return u[l]*y[0]+u[l+1]*y[1]+u[l+2]*y[2]+u[l+3]*y[3]}function D(u,l,y){const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],b=y-l>>2;for(let v=l;v<y;v+=4){const I=u[v]*.00392156862745098,f=u[v+1]*(1/255),i=u[v+2]*(1/255),O=u[v+3]*(1/255);w[0]+=I,w[1]+=f,w[2]+=i,w[3]+=O,_[0]+=I*I,_[1]+=I*f,_[2]+=I*i,_[3]+=I*O,_[5]+=f*f,_[6]+=f*i,_[7]+=f*O,_[10]+=i*i,_[11]+=i*O,_[15]+=O*O}return _[4]=_[1],_[8]=_[2],_[9]=_[6],_[12]=_[3],_[13]=_[7],_[14]=_[11],{R:_,m:w,N:b}}function p(u){const{R:l}=u,{m:y}=u,{N:_}=u,w=y[0],b=y[1],v=y[2],I=y[3],f=_==0?0:1/_,i=[l[0]-w*w*f,l[1]-w*b*f,l[2]-w*v*f,l[3]-w*I*f,l[4]-b*w*f,l[5]-b*b*f,l[6]-b*v*f,l[7]-b*I*f,l[8]-v*w*f,l[9]-v*b*f,l[10]-v*v*f,l[11]-v*I*f,l[12]-I*w*f,l[13]-I*b*f,l[14]-I*v*f,l[15]-I*I*f],O=i,C=T;let P=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,N=0;if(_!=0)for(let H=0;H<16&&(P=C.multVec(O,P),N=Math.sqrt(C.dot(P,P)),P=C.sml(1/N,P),!(H!=0&&Math.abs(N-$)<1e-9));H++)$=N;const B=[w*f,b*f,v*f,I*f];return{Cov:i,q:B,e:P,L:$,eMq255:C.dot(C.sml(255,B),P),eMq:C.dot(P,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var T={multVec:(u,l)=>[u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],u[4]*l[0]+u[5]*l[1]+u[6]*l[2]+u[7]*l[3],u[8]*l[0]+u[9]*l[1]+u[10]*l[2]+u[11]*l[3],u[12]*l[0]+u[13]*l[1]+u[14]*l[2]+u[15]*l[3]],dot:(u,l)=>u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],sml:(u,l)=>[u*l[0],u*l[1],u*l[2],u*l[3]]};ge.encode=function(l,y,_,w,b,v,I){w==null&&(w=0),I==null&&(I=!1);const f=r(l,y,_,w,[!1,!1,!1,0,I,!1]);return A(f,-1),g(f,y,_,b,v)},ge.encodeLL=function(l,y,_,w,b,v,I,f){const i={ctype:0+(w==1?0:2)+(b==0?0:4),depth:v,frames:[]},O=(w+b)*v,C=O*y;for(let P=0;P<l.length;P++)i.frames.push({rect:{x:0,y:0,width:y,height:_},img:new Uint8Array(l[P]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(C/8)});return A(i,0,!0),g(i,y,_,I,f)},ge.encode.compress=r,ge.encode.dither=a,ge.quantize=U,ge.quantize.getKDtree=E,ge.quantize.getNearest=m})();const pt={toArrayBuffer(M,x){const L=M.width,d=M.height,e=L<<2,t=M.getContext("2d").getImageData(0,0,L,d),c=new Uint32Array(t.data.buffer),a=(32*L+31)/32<<2,g=a*d,A=122+g,r=new ArrayBuffer(A),o=new DataView(r),n=1<<20;let s,h,U,E,m=n,R=0,S=0,F=0;function D(u){o.setUint16(S,u,!0),S+=2}function p(u){o.setUint32(S,u,!0),S+=4}function T(u){S+=u}D(19778),p(A),T(4),p(122),p(108),p(L),p(-d>>>0),D(1),D(32),p(3),p(g),p(2835),p(2835),T(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function u(){for(;R<d&&m>0;){for(E=122+R*a,s=0;s<e;)m--,h=c[F++],U=h>>>24,o.setUint32(E+s,h<<8|U),s+=4;R++}F<c.length?(m=n,setTimeout(u,pt._dly)):x(r)}()},toBlob(M,x){this.toArrayBuffer(M,L=>{x(new Blob([L],{type:"image/bmp"}))})},_dly:9};var le={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Gt={[le.CHROME]:16384,[le.FIREFOX]:11180,[le.DESKTOP_SAFARI]:16384,[le.IE]:8192,[le.IOS]:4096,[le.ETC]:8192};const nt=typeof window<"u",vt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qe=nt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Zt=(nt||vt)&&(Qe&&Qe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),mt=(nt||vt)&&(Qe&&Qe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function rt(M,x,L=Date.now()){return new Promise(d=>{const e=M.split(","),t=e[0].match(/:(.*?);/)[1],c=globalThis.atob(e[1]);let a=c.length;const g=new Uint8Array(a);for(;a--;)g[a]=c.charCodeAt(a);const A=new Blob([g],{type:t});A.name=x,A.lastModified=L,d(A)})}function bt(M){return new Promise((x,L)=>{const d=new mt;d.onload=()=>x(d.result),d.onerror=e=>L(e),d.readAsDataURL(M)})}function yt(M){return new Promise((x,L)=>{const d=new Image;d.onload=()=>x(d),d.onerror=e=>L(e),d.src=M})}function Me(){if(Me.cachedResult!==void 0)return Me.cachedResult;let M=le.ETC;const{userAgent:x}=navigator;return/Chrom(e|ium)/i.test(x)?M=le.CHROME:/iP(ad|od|hone)/i.test(x)&&/WebKit/i.test(x)?M=le.IOS:/Safari/i.test(x)?M=le.DESKTOP_SAFARI:/Firefox/i.test(x)?M=le.FIREFOX:(/MSIE/i.test(x)||document.documentMode)&&(M=le.IE),Me.cachedResult=M,Me.cachedResult}function At(M,x){const L=Me(),d=Gt[L];let e=M,t=x,c=e*t;const a=e>t?t/e:e/t;for(;c>d*d;){const g=(d+e)/2,A=(d+t)/2;g<A?(t=A,e=A*a):(t=g*a,e=g),c=e*t}return{width:e,height:t}}function qe(M,x){let L,d;try{if(L=new OffscreenCanvas(M,x),d=L.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{L=document.createElement("canvas"),d=L.getContext("2d")}return L.width=M,L.height=x,[L,d]}function wt(M,x){const{width:L,height:d}=At(M.width,M.height),[e,t]=qe(L,d);return x&&/jpe?g/.test(x)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(M,0,0,e.width,e.height),e}function Ne(){return Ne.cachedResult!==void 0||(Ne.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ne.cachedResult}function We(M,x={}){return new Promise(function(L,d){let e,t;var c=function(){try{return t=wt(e,x.fileType||M.type),L([e,t])}catch(g){return d(g)}},a=function(g){try{var A=function(r){try{throw r}catch(o){return d(o)}};try{let r;return bt(M).then(function(o){try{return r=o,yt(r).then(function(n){try{return e=n,function(){try{return c()}catch(s){return d(s)}}()}catch(s){return A(s)}},A)}catch(n){return A(n)}},A)}catch(r){A(r)}}catch(r){return d(r)}};try{if(Ne()||[le.DESKTOP_SAFARI,le.MOBILE_SAFARI].includes(Me()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(M).then(function(g){try{return e=g,c()}catch{return a()}},a)}catch{a()}})}function je(M,x,L,d,e=1){return new Promise(function(t,c){let a;if(x==="image/png"){let A,r,o;return A=M.getContext("2d"),{data:r}=A.getImageData(0,0,M.width,M.height),o=ge.encode([r.buffer],M.width,M.height,4096*e),a=new Blob([o],{type:x}),a.name=L,a.lastModified=d,g.call(this)}{let A=function(){return g.call(this)};if(x==="image/bmp")return new Promise(r=>pt.toBlob(M,r)).then((function(r){try{return a=r,a.name=L,a.lastModified=d,A.call(this)}catch(o){return c(o)}}).bind(this),c);{let r=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&M instanceof OffscreenCanvas)return M.convertToBlob({type:x,quality:e}).then((function(o){try{return a=o,a.name=L,a.lastModified=d,r.call(this)}catch(n){return c(n)}}).bind(this),c);{let o;return o=M.toDataURL(x,e),rt(o,L,d).then((function(n){try{return a=n,r.call(this)}catch(s){return c(s)}}).bind(this),c)}}}function g(){return t(a)}})}function Ae(M){M.width=0,M.height=0}function Re(){return new Promise(function(M,x){let L,d,e,t;return Re.cachedResult!==void 0?M(Re.cachedResult):rt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return L=c,We(L).then(function(a){try{return d=a[1],je(d,L.type,L.name,L.lastModified).then(function(g){try{return e=g,Ae(d),We(e).then(function(A){try{return t=A[0],Re.cachedResult=t.width===1&&t.height===2,M(Re.cachedResult)}catch(r){return x(r)}},x)}catch(A){return x(A)}},x)}catch(g){return x(g)}},x)}catch(a){return x(a)}},x)})}function _t(M){return new Promise((x,L)=>{const d=new mt;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return x(-2);const c=t.byteLength;let a=2;for(;a<c;){if(t.getUint16(a+2,!1)<=8)return x(-1);const g=t.getUint16(a,!1);if(a+=2,g==65505){if(t.getUint32(a+=2,!1)!=1165519206)return x(-1);const A=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,A);const r=t.getUint16(a,A);a+=2;for(let o=0;o<r;o++)if(t.getUint16(a+12*o,A)==274)return x(t.getUint16(a+12*o+8,A))}else{if((65280&g)!=65280)break;a+=t.getUint16(a,!1)}}return x(-1)},d.onerror=e=>L(e),d.readAsArrayBuffer(M)})}function Ut(M,x){const{width:L}=M,{height:d}=M,{maxWidthOrHeight:e}=x;let t,c=M;return isFinite(e)&&(L>e||d>e)&&([c,t]=qe(L,d),L>d?(c.width=e,c.height=d/L*e):(c.width=L/d*e,c.height=e),t.drawImage(M,0,0,c.width,c.height),Ae(M)),c}function It(M,x){const{width:L}=M,{height:d}=M,[e,t]=qe(L,d);switch(x>4&&x<9?(e.width=d,e.height=L):(e.width=L,e.height=d),x){case 2:t.transform(-1,0,0,1,L,0);break;case 3:t.transform(-1,0,0,-1,L,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,L);break;case 8:t.transform(0,-1,1,0,0,L)}return t.drawImage(M,0,0,L,d),Ae(M),e}function ft(M,x,L=0){return new Promise(function(d,e){let t,c,a,g,A,r,o,n,s,h,U,E,m,R,S,F,D,p,T,u;function l(_=5){if(x.signal&&x.signal.aborted)throw x.signal.reason;t+=_,x.onProgress(Math.min(t,100))}function y(_){if(x.signal&&x.signal.aborted)throw x.signal.reason;t=Math.min(Math.max(_,t),100),x.onProgress(t)}return t=L,c=x.maxIteration||10,a=1024*x.maxSizeMB*1024,l(),We(M,x).then((function(_){try{return[,g]=_,l(),A=Ut(g,x),l(),new Promise(function(w,b){var v;if(!(v=x.exifOrientation))return _t(M).then((function(f){try{return v=f,I.call(this)}catch(i){return b(i)}}).bind(this),b);function I(){return w(v)}return I.call(this)}).then((function(w){try{return r=w,l(),Re().then((function(b){try{return o=b?A:It(A,r),l(),n=x.initialQuality||1,s=x.fileType||M.type,je(o,s,M.name,M.lastModified,n).then((function(v){try{{let f=function(){if(c--&&(S>a||S>m)){let O,C;return O=u?.95*T.width:T.width,C=u?.95*T.height:T.height,[D,p]=qe(O,C),p.drawImage(T,0,0,O,C),n*=s==="image/png"?.85:.95,je(D,s,M.name,M.lastModified,n).then(function(P){try{return F=P,Ae(T),T=D,S=F.size,y(Math.min(99,Math.floor((R-S)/(R-a)*100))),f}catch($){return e($)}},e)}return[1]},i=function(){return Ae(T),Ae(D),Ae(A),Ae(o),Ae(g),y(100),d(F)};if(h=v,l(),U=h.size>a,E=h.size>M.size,!U&&!E)return y(100),d(h);var I;return m=M.size,R=h.size,S=R,T=o,u=!x.alwaysKeepResolution&&U,(I=(function(O){for(;O;){if(O.then)return void O.then(I,e);try{if(O.pop){if(O.length)return O.pop()?i.call(this):O;O=f}else O=O.call(this)}catch(C){return e(C)}}}).bind(this))(f)}}catch(f){return e(f)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(b){return e(b)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)})}const Kt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ve;function Vt(M,x){return new Promise((L,d)=>{Ve||(Ve=function(c){const a=[];return a.push(c),URL.createObjectURL(new Blob(a))}(Kt));const e=new Worker(Ve);e.addEventListener("message",function(c){if(x.signal&&x.signal.aborted)e.terminate();else if(c.data.progress===void 0){if(c.data.error)return d(new Error(c.data.error)),void e.terminate();L(c.data.file),e.terminate()}else x.onProgress(c.data.progress)}),e.addEventListener("error",d),x.signal&&x.signal.addEventListener("abort",()=>{d(x.signal.reason),e.terminate()}),e.postMessage({file:M,imageCompressionLibUrl:x.libURL,options:{...x,onProgress:void 0,signal:void 0}})})}function ne(M,x){return new Promise(function(L,d){let e,t,c,a,g,A;if(e={...x},c=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{c=s,typeof a=="function"&&a(c)},!(M instanceof Blob||M instanceof Zt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(M.type))return d(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||A)return ft(M,e).then((function(s){try{return t=s,n.call(this)}catch(h){return d(h)}}).bind(this),d);var r=(function(){try{return n.call(this)}catch(s){return d(s)}}).bind(this),o=function(s){try{return ft(M,e).then(function(h){try{return t=h,r()}catch(U){return d(U)}},d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Vt(M,e).then(function(s){try{return t=s,r()}catch{return o()}},o)}catch{o()}function n(){try{t.name=M.name,t.lastModified=M.lastModified}catch{}try{e.preserveExif&&M.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===M.type)&&(t=gt(M,t))}catch{}return L(t)}})}ne.getDataUrlFromFile=bt,ne.getFilefromDataUrl=rt,ne.loadImage=yt,ne.drawImageInCanvas=wt,ne.drawFileInCanvas=We,ne.canvasToFile=je,ne.getExifOrientation=_t,ne.handleMaxWidthOrHeight=Ut,ne.followExifOrientation=It,ne.cleanupCanvasMemory=Ae,ne.isAutoOrientationInBrowser=Re,ne.approximateBelowMaximumCanvasSizeOfBrowser=At,ne.copyExifWithoutOrientation=gt,ne.getBrowserName=Me,ne.version="2.0.2";const Xt={class:"id-card-container"},Yt=["onClick"],Jt=["onChange"],en={key:0,class:"image-preview"},tn=["src"],nn=["onClick"],rn={key:1},on=Je({__name:"Upload",props:{name:{type:String,default:""},labels:{type:Object,required:!0}},emits:["imageChanged"],setup(M,{expose:x,emit:L}){const d=L,e=Ye(),t=M,c=ye({}),a=ye({}),g=h=>{var U;(U=c.value[h])==null||U.click()},A=async(h,U,E)=>{var F;const R=(F=E.target.files)==null?void 0:F[0];if(!R)return;const S={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const D=await ne(R,S),p=await ne.getDataUrlFromFile(D);a.value[h]||(a.value[h]={}),a.value[h][U]=p,await r(h,U,p),E.target.value="",d("imageChanged",!0)}catch(D){console.error("Error during image compression or upload:",D)}},r=(h,U,E)=>{const m=Object.keys(e.idImages)[0];m!==h&&(a.value[m]={},e.clearStore()),e.setImage64BaseData(h,U,E)},o=He(()=>({...t.labels.front&&{front:t.labels.front},...t.labels.back&&{back:t.labels.back}})),n=h=>{a.value[t.name]&&(delete a.value[t.name][h],delete e.idImages[t.name][h]),c.value[h]&&(c.value[h].value="")};return x({clearUploadData:()=>{a.value={},e.clearStore()}}),et(()=>{Object.keys(e.idImages).length>0&&(a.value=e.idImages)}),(h,U)=>{const E=$e("SvgIcon");return ue(),pe("div",Xt,[(ue(!0),pe(tt,null,ct(o.value,(m,R)=>(ue(),pe("div",{key:R,class:"upload-container",onClick:()=>g(R)},[se("input",{type:"file",ref_for:!0,ref:S=>{c.value[R]=S},accept:"image/*",capture:"environment",onChange:S=>A(t.name,R,S),hidden:""},null,40,Jt),a.value[t.name]&&a.value[t.name][R]?(ue(),pe("div",en,[se("img",{src:a.value[t.name][R]},null,8,tn),se("div",{class:"overlay",onClick:dt(S=>n(R),["stop"])},[be(E,{name:"delete",class:"delete-icon"}),U[0]||(U[0]=se("p",null,"",-1))],8,nn)])):(ue(),pe("div",rn,[be(E,{name:"upload",class:"upload-icon"}),se("p",null,Te(m),1)]))],8,Yt))),128))])}}}),an={class:"ocr"},sn={class:"title-block"},ln={class:"title"},fn={class:"card"},cn={class:"card-title"},un={class:"card-content"},dn={key:0,class:"loading-animation"},vn=Je({__name:"OcrIdUploader",setup(M){const x=Ye(),L=St(),d=xt(),{t:e}=it(),{locale:t}=it(),c=ye(null),a=ye(!1),g=ye(!0),A=ye(!1),r=ye({name:"id",label:e("identification.id")}),o=ye([{name:"id",label:e("identification.id")},{name:"passport",label:e("identification.passport")}]),n=He(()=>({id:{front:e("uploadLabel.idFront"),back:e("uploadLabel.idBack")},passport:{front:e("uploadLabel.passportFront")}}));st(()=>t.value,()=>{r.value.label=e(`identification.${r.value.name}`),o.value=o.value.map(b=>({...b,label:e(`identification.${b.name}`)}))});const s=He(()=>{var v;const b=(v=r.value)==null?void 0:v.name;return{name:b,labels:n.value[b]}}),h=b=>{r.value=b},U=He(()=>{const b=r.value.name,v=Object.keys(n.value[b]||{}),I=x.idImages[b]||{};return v.every(i=>I[i])}),E=()=>{g.value||w()};st(U,b=>{g.value=!b}),et(()=>{const b=Object.keys(x.idImages);if(b.length>0){const v=b[0],I=o.value.find(f=>f.name===v);I&&h(I)}g.value=!U.value});const{showError:m,errorTitle:R,errorContent:S,errorSubText:F,errorButtonText:D,errorClass:p,currentErrorType:T,ocrErrorCodeMap:u,updateErrorMessages:l}=Dt(),y=b=>{b===Ke.MinorAccessDenied&&d.push("/"),c.value.clearUploadData(),m.value=!1},_=b=>{b===Ke.MinorAccessDenied&&c.value.clearUploadData(),m.value=!1},w=async()=>{a.value=!0;const v=Tt().orderData.orderData.order_number,f=Ye().idImages,i=Object.keys(f)[0],{front:O,back:C}=Object.values(f)[0],P=N=>N.replace(/^data:image\/\w+;base64,/,""),$={order_number:v,image_type:i,image1:P(O),...C&&{image2:P(C)}};try{const{ocrData:N}=await Rt($);if(N.code!=="0"){const B=u[N.code];if(Array.isArray(N.data)){const H=N.data[0].code,k=H.match(/_(\w+)_/);if(H==="UNRECOGNIZED_DOCUMENT"){l(B,"UNRECOGNIZED_DOCUMENT");return}if(k){const z=k?k[1]:void 0;l(B,z);return}}l(B)}if(N.code==="0"){const B={code:N.code,message:N.message,data:N.data};x.setIdOcrResult(B),d.push("/form")}}catch{l(Ke.UnknownError)}finally{a.value=!1}};return(b,v)=>{const I=$e("SvgIcon"),f=$e("router-link");return ue(),pe(tt,null,[be(Mt),se("main",an,[se("div",sn,[be(f,{to:{name:"home",params:{urlToken:_e(L).urlToken}},class:"no-underline back-route"},{default:lt(()=>[be(I,{name:"back",class:"back-icon"}),se("span",null,Te(b.$t("return")),1)]),_:1},8,["to"]),se("div",ln,[se("p",null,Te(b.$t("preCheckIn")),1)])]),se("div",fn,[se("p",cn,Te(b.$t("uploadPersonalIdentification")),1),se("div",un,[be(zt,{selectedOption:r.value,options:o.value,"onUpdate:selectedOption":h},null,8,["selectedOption","options"]),be(on,{ref_key:"uploadRef",ref:c,name:s.value.name,labels:s.value.labels,onImageChanged:v[0]||(v[0]=i=>A.value=!0)},null,8,["name","labels"]),be(Ot,{buttonClass:"btn primary-btn",disabled:g.value,onClick:E},{default:lt(()=>[Xe(Te(b.$t("nextStep")),1)]),_:1},8,["disabled"]),a.value?(ue(),pe("div",dn,[be(Pt,{name:"id_ocr",lottie_text:b.$t("documentUnderReview")},null,8,["lottie_text"])])):Be("",!0)])])]),_e(m)?(ue(),ht(Lt,{key:0,title:_e(R),content:_e(S),buttonText:_e(D),subText:_e(F),class:ut(_e(p)),onButtonClick:v[1]||(v[1]=i=>y(_e(T))),onSubTextClick:v[2]||(v[2]=i=>_(_e(T)))},null,8,["title","content","buttonText","subText","class"])):Be("",!0)],64)}}});export{vn as default};
